# Cloudflare Worker Configuration for ReceiptVault
# Deploy with: npx wrangler deploy

name = "receiptvault-processor"
main = "cloudflare-worker.ts"
compatibility_date = "2024-01-01"

# Cron trigger - runs every 5 minutes to process pending receipts
[triggers]
crons = ["*/5 * * * *"]  # Every 5 minutes

# Environment variables (set these in Cloudflare dashboard or via wrangler)
# [vars]
# API_URL = "https://reciept-vault.vercel.app"
# CRON_SECRET = "your-secret-here"

# Production environment
[env.production]
vars = { API_URL = "https://reciept-vault.vercel.app" }

# Preview environment (for testing)
[env.preview]
vars = { API_URL = "http://localhost:3000" }

